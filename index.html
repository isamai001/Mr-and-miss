<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
<link rel="manifest" href="/site.webmanifest">
    <title> Mr. & Miss Embakasi</title>
    <link rel="stylesheet" href="styles.css">
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body class="relative">
    <!-- Top Navigation Bar -->
    <header class="top-bar flex items-center justify-between">
        <!-- Logo and Title -->
        <div class="flex items-center space-x-2">
            <img src="images\main thumbnail.jpg" alt="Logo" class="w-8 h-8 rounded-full" loading="lazy">
            <h1 class="text-white text-lg font-bold whitespace-nowrap">Mr. & Miss Embakasi</h1>
        </div>

        <!-- Navigation Links (hidden on mobile) -->
        <nav class="hidden md:flex space-x-4">
            <a href="about.html" class="text-white hover:text-pink-200 transition">About Us</a>
            <a href="leaderboard.html" class="text-white hover:text-pink-200 transition">Voting Progress</a>
            <a href="support.html" class="text-white hover:text-pink-200 transition">Support</a>
            <a href="contact.html" class="text-white hover:text-pink-200 transition">Contact Us</a>
        </nav>

        <!-- Register Button and Time -->
        <div class="flex items-center space-x-3">
            <button id="registerBtn" class="bg-white text-pink-600 px-3 py-1 rounded-full text-sm font-medium hover:bg-gray-100 transition whitespace-nowrap">
                <i class="fas fa-user-plus mr-1"></i>Register
            </button>
            <div class="text-white text-sm hidden sm:flex items-center">
                <i class="fas fa-clock mr-1"></i>
                <span id="currentTime"></span>
            </div>
        </div>
    </header>

    <!-- Top Ten Contestants Scroller -->
    <div class="top-ten-scroller">
        <div class="top-ten-container">
            <!-- Top ten contestants will be dynamically inserted here -->
        </div>
    </div>

    <!-- Main Content Area -->
    <main class="pt-40 pb-20 px-4 sm:pt-32">
        <!-- Search Bar -->
        <div class="flex justify-center mb-8">
            <div class="relative w-full max-w-md">
                <input type="text" id="searchInput" placeholder="Search contestants..." 
                       class="w-full px-4 py-2 rounded-full border-2 border-pink-300 focus:border-pink-500 focus:outline-none">
                <button id="searchButton" class="absolute right-3 top-1/2 transform -translate-y-1/2 text-pink-500">
                    <i class="fas fa-search"></i>
                </button>
            </div>
        </div>

        <!-- Contestants Grid -->
        <div class="contestants-grid grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6" id="contestantsGrid">
            <!-- Contestant cards will be dynamically inserted here -->
        </div>

        <!-- Loading Indicator -->
        <div id="loadingIndicator" class="text-center py-8">
            <div class="inline-block animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-pink-500"></div>
            <p class="mt-2 text-pink-600">Loading contestants...</p>
        </div>
    </main>

    <!-- News Ticker Footer -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <div class="news-ticker">
        <div class="ticker-content">
            <span class="inline-block px-4">
                <i class="fas fa-user-plus text-green-500"></i> Registration is Free!!!!, 
                <i class="fas fa-calendar-check text-blue-500"></i> Registration is now open, 
                <i class="fas fa-phone-alt text-purple-500"></i> contact Organizers on : 0719561365 for more information  
                <i class="fas fa-vote-yea text-red-500"></i> Voting is opening soon! 
                <i class="fas fa-money-bill-wave text-green-600"></i> Each vote costs 20 KSH via M-Pesa
            </span>
            <span class="inline-block px-4">
                <i class="fas fa-trophy text-yellow-500"></i> Grand finale on December 31, 2025 at Embakasi
            </span>
            <span class="inline-block px-4">
                <i class="fas fa-edit text-blue-600"></i> Register as a contestant today for a chance to win 
                <i class="fas fa-gift text-pink-500"></i> amazing prizes!
            </span>
        </div>
    </div>
    
    <div class="news-ticker">
        <div class="ticker-content">
            <span class="inline-block px-4">
                <i class="fas fa-user-plus text-green-500"></i> Registration is Free!!!!, 
                <i class="fas fa-calendar-check text-blue-500"></i> Registration is now open, 
                <i class="fas fa-phone-alt text-purple-500"></i> contact Organizers on : 0719561365 for more information  
                <i class="fas fa-vote-yea text-red-500"></i> Voting is opening soon! 
                <i class="fas fa-money-bill-wave text-green-600"></i> Each vote costs 20 KSH via M-Pesa
            </span>
            <span class="inline-block px-4">
                <i class="fas fa-trophy text-yellow-500"></i> Grand finale on December 31, 2025 at Embakasi
            </span>
            <span class="inline-block px-4">
                <i class="fas fa-edit text-blue-600"></i> Register as a contestant today for a chance to win 
                <i class="fas fa-gift text-pink-500"></i> amazing prizes!
            </span>
        </div>
    </div>

    <!-- Registration Modal -->
    <div id="registrationModal" class="modal">
        <div class="modal-content">
            <div class="p-6">
                <div class="flex justify-between items-center mb-4">
                    <h3 class="text-xl font-bold text-pink-600">Contestant Registration</h3>
                    <button id="closeRegisterModal" class="text-gray-500 hover:text-pink-600">
                        <i class="fas fa-times"></i>
                    </button>
                </div>

                <form id="registrationForm" class="space-y-4">
                    <div>
                        <label for="fullName" class="block text-gray-700 mb-1">Full Name</label>
                        <input type="text" id="fullName" name="fullName" required 
                               class="form-input w-full">
                    </div>

                    <div>
                        <label for="phone" class="block text-gray-700 mb-1">Phone Number</label>
                        <input type="tel" id="phone" name="phone" required 
                               class="form-input w-full" placeholder="254712345678">
                    </div>

                    <div>
                        <label for="email" class="block text-gray-700 mb-1">Email (Optional)</label>
                        <input type="email" id="email" name="email" 
                               class="form-input w-full">
                    </div>

                    <div>
                        <label for="category" class="block text-gray-700 mb-1">Category</label>
                        <select id="category" name="category" required class="form-input w-full">
                            <option value="">Select Category</option>
                            <option value="mr">Mr. Embakasi</option>
                            <option value="miss">Miss Embakasi</option>
                        </select>
                    </div>

                    <div>
                        <label class="block text-gray-700 mb-1">Upload Photo</label>
                        <div class="border-2 border-dashed border-pink-300 rounded-lg p-4 text-center">
                            <input type="file" id="photoUpload" name="photo" accept="image/*" class="hidden">
                            <label for="photoUpload" class="cursor-pointer">
                                <i class="fas fa-camera text-3xl text-pink-500 mb-2"></i>
                                <p class="text-gray-600">Click to upload your photo</p>
                                <p class="text-xs text-gray-500 mt-1">Max size: 2MB</p>
                            </label>
                            <div id="uploadProgress" class="hidden mt-2">
                                <div class="w-full bg-gray-200 rounded-full h-2.5">
                                    <div id="progressBar" class="bg-pink-500 h-2.5 rounded-full" style="width: 0%"></div>
                                </div>
                                <p id="uploadStatus" class="text-xs mt-1"></p>
                            </div>
                        </div>
                    </div>

                    <div class="flex items-start">
                        <input type="checkbox" id="consent" name="consent" required 
                               class="mt-1 mr-2">
                        <label for="consent" class="text-sm text-gray-700">
                            I consent to the use of my image and information for promotional purposes.
                        </label>
                    </div>

                    <button type="submit" class="w-full bg-pink-500 text-white py-2 rounded-lg font-medium hover:bg-pink-600 transition">
                        <i class="fas fa-user-plus mr-2"></i> Register Now
                    </button>
                </form>
            </div>
        </div>
    </div>

    <!-- Payment Modal -->
    <div id="paymentModal" class="modal">
        <div class="modal-content">
            <div class="p-6">
                <div class="flex justify-between items-center mb-4">
                    <h3 class="text-xl font-bold text-pink-600">Complete Your Vote</h3>
                    <button id="closePaymentModal" class="text-gray-500 hover:text-pink-600">
                        <i class="fas fa-times"></i>
                    </button>
                </div>

                <div id="paymentSteps">
                    <!-- Step 1: Confirm Contestant -->
                    <div class="payment-step active" id="step1">
                        <div class="text-center mb-6">
                            <div class="w-20 h-20 mx-auto rounded-full overflow-hidden border-4 border-pink-500 mb-3">
                                <img id="voteContestantPhoto" src="" alt="Contestant" class="w-full h-full object-cover">
                            </div>
                            <h4 class="text-lg font-semibold" id="voteContestantName"></h4>
                            <p class="text-gray-600 text-sm">You are voting for this contestant</p>
                        </div>

                        <div class="bg-pink-100 p-4 rounded-lg mb-4">
                            <div class="flex justify-between mb-2">
                                <span class="font-medium">Cost per vote:</span>
                                <span class="font-bold">20 KSH</span>
                            </div>
                            <div class="flex justify-between items-center">
                                <span class="font-medium">Total votes:</span>
                                <div class="flex items-center">
                                    <button id="decrementVotes" class="w-8 h-8 rounded-full bg-pink-500 text-white flex items-center justify-center hover:bg-pink-600">
                                        <i class="fas fa-minus"></i>
                                    </button>
                                    <span id="voteCount" class="mx-4 font-bold">1</span>
                                    <button id="incrementVotes" class="w-8 h-8 rounded-full bg-pink-500 text-white flex items-center justify-center hover:bg-pink-600">
                                        <i class="fas fa-plus"></i>
                                    </button>
                                </div>
                            </div>
                        </div>

                        <div class="bg-pink-100 p-4 rounded-lg mb-6">
                            <div class="flex justify-between font-bold text-lg">
                                <span>Total Amount:</span>
                                <span id="totalAmount">20 KSH</span>
                            </div>
                        </div>

                        <button id="proceedToPayment" class="w-full bg-pink-500 text-white py-2 rounded-lg font-medium hover:bg-pink-600 transition">
                            <i class="fas fa-money-bill-wave mr-2"></i> Proceed to Payment
                        </button>
                    </div>

                    <!-- Step 2: M-Pesa Payment -->
                    <div class="payment-step" id="step2">
                        <div class="text-center mb-6">
                            <div class="w-16 h-16 mx-auto bg-green-100 rounded-full flex items-center justify-center mb-3">
                                <i class="fas fa-mobile-alt text-3xl text-green-600"></i>
                            </div>
                            <h4 class="text-lg font-semibold">M-Pesa Payment</h4>
                            <p class="text-gray-600 text-sm">Enter your M-Pesa details</p>
                        </div>

                        <div class="mb-4">
                            <label for="mpesaPhone" class="block text-gray-700 mb-1">Phone Number</label>
                            <input type="tel" id="mpesaPhone" class="form-input w-full" placeholder="254712345678" required>
                        </div>

                        <div class="bg-pink-100 p-4 rounded-lg mb-6">
                            <div class="flex justify-between font-bold text-lg">
                                <span>Amount to Pay:</span>
                                <span id="paymentAmount">20 KSH</span>
                            </div>
                        </div>

                        <button id="processPayment" class="w-full bg-green-600 text-white py-2 rounded-lg font-medium hover:bg-green-700 transition">
                            <i class="fas fa-paper-plane mr-2"></i> Send Payment Request
                        </button>

                        <button id="backToStep1" class="w-full mt-3 bg-gray-200 text-gray-700 py-2 rounded-lg font-medium hover:bg-gray-300 transition">
                            <i class="fas fa-arrow-left mr-2"></i> Back
                        </button>
                    </div>

                    <!-- Step 3: Payment Processing -->
                    <div class="payment-step" id="step3">
                        <div class="text-center mb-6">
                            <div class="w-20 h-20 mx-auto rounded-full bg-pink-100 flex items-center justify-center mb-3">
                                <i class="fas fa-spinner fa-spin text-4xl text-pink-500"></i>
                            </div>
                            <h4 class="text-lg font-semibold">Processing Payment</h4>
                            <p class="text-gray-600 text-sm">Please wait while we process your payment</p>
                        </div>

                        <div class="bg-gray-100 p-4 rounded-lg mb-6">
                            <div class="flex justify-between mb-2">
                                <span class="font-medium">Contestant:</span>
                                <span class="font-bold" id="processingContestant"></span>
                            </div>
                            <div class="flex justify-between mb-2">
                                <span class="font-medium">Votes:</span>
                                <span class="font-bold" id="processingVotes"></span>
                            </div>
                            <div class="flex justify-between">
                                <span class="font-medium">Amount:</span>
                                <span class="font-bold" id="processingAmount"></span>
                            </div>
                        </div>

                        <div class="text-center text-sm text-gray-500">
                            <p>You will receive an M-Pesa STK push on your phone</p>
                        </div>
                    </div>

                    <!-- Step 4: Payment Success -->
                    <div class="payment-step" id="step4">
                        <div class="text-center mb-6">
                            <div class="w-20 h-20 mx-auto rounded-full bg-green-100 flex items-center justify-center mb-3">
                                <i class="fas fa-check-circle text-4xl text-green-600"></i>
                            </div>
                            <h4 class="text-lg font-semibold">Payment Successful!</h4>
                            <p class="text-gray-600 text-sm">Your votes have been recorded</p>
                        </div>

                        <div class="bg-gray-100 p-4 rounded-lg mb-6">
                            <div class="flex justify-between mb-2">
                                <span class="font-medium">Transaction ID:</span>
                                <span class="font-bold">MP1234567890</span>
                            </div>
                            <div class="flex justify-between mb-2">
                                <span class="font-medium">Contestant:</span>
                                <span class="font-bold" id="successContestant"></span>
                            </div>
                            <div class="flex justify-between">
                                <span class="font-medium">Votes Added:</span>
                                <span class="font-bold" id="successVotes"></span>
                            </div>
                        </div>

                        <button id="closeAfterSuccess" class="w-full bg-pink-500 text-white py-2 rounded-lg font-medium hover:bg-pink-600 transition">
                            <i class="fas fa-check mr-2"></i> Done
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Share Popup Template -->
    <div id="sharePopupTemplate" class="hidden">
        <div class="share-popup">
            <div class="share-option facebook">
                <i class="fab fa-facebook-f"></i> Facebook
            </div>
            <div class="share-option twitter">
                <i class="fab fa-twitter"></i> Twitter
            </div>
            <div class="share-option whatsapp">
                <i class="fab fa-whatsapp"></i> WhatsApp
            </div>
            <div class="share-option instagram">
                <i class="fab fa-instagram"></i> Instagram
            </div>
            <div class="share-option link">
                <i class="fas fa-link"></i> Copy Link
            </div>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>